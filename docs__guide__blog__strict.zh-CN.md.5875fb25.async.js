(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{"8PLJ":function(e,t,n){"use strict";n.r(t);var a=n("3Nsx"),c=n.n(a),l=n("WTS6"),o=n("JuRz"),r=c.a.memo((e=>{e.demos;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"markdown"},c.a.createElement("h1",{id:"react-hooks--strict-mode"},c.a.createElement(l["AnchorLink"],{to:"#react-hooks--strict-mode","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"React Hooks & strict mode"),c.a.createElement("h2",{id:"\u4ec0\u4e48\u662f\u4e25\u683c\u6a21\u5f0f"},c.a.createElement(l["AnchorLink"],{to:"#\u4ec0\u4e48\u662f\u4e25\u683c\u6a21\u5f0f","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u4ec0\u4e48\u662f\u4e25\u683c\u6a21\u5f0f"),c.a.createElement("p",null,"\u5728 React \u4e2d\uff0c\u6709\u5f88\u591a\u5386\u53f2\u7684 API \u6216\u5199\u6cd5\uff0c\u5728\u672a\u6765\u7248\u672c\u4e2d\u4f1a\u88ab\u5e9f\u5f03\uff0c\u73b0\u5728\u88ab\u6807\u8bb0\u4e3a\u4e0d\u5efa\u8bae\u4f7f\u7528\u3002\u65e2\u7136\u662f\u4e0d\u5efa\u8bae\u4f7f\u7528\uff0c\u90a3\u8fd8\u662f\u53ef\u4ee5\u7528\u7684\uff0c\u6bd4\u5982 ",c.a.createElement("code",null,"componentWillMount"),"\uff0c\u5728\u666e\u901a\u6a21\u5f0f\u4e0b\uff0c\u4f60\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528\u3002\u4f46\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u5c31\u4f1a\u629b\u51fa\u8b66\u544a\uff1a"),c.a.createElement("p",null,c.a.createElement("img",{src:"https://user-images.githubusercontent.com/12526493/140928679-cafd5b58-2937-41a9-87e8-f68aa6d978d9.png",alt:"image.png"})),c.a.createElement("p",null,"\u6240\u4ee5",c.a.createElement("strong",null,"\u4e25\u683c\u6a21\u5f0f\u5c31\u662f\u9762\u5411\u672a\u6765\u5f00\u53d1\uff0c\u6240\u6709\u4e0d\u5efa\u8bae\u7684 API \u6216\u5199\u6cd5\uff0c\u90fd\u4f1a\u629b\u51fa\u8b66\u544a\uff08\u53ea\u5728\u5f00\u53d1\u6a21\u5f0f\u751f\u6548\uff09\u3002")),c.a.createElement("p",null,"\u4e00\u822c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 ",c.a.createElement("code",null,"React.StrictMode")," \u6765\u5c40\u90e8\u542f\u7528\u4e25\u683c\u6a21\u5f0f\u3002"),c.a.createElement(o["a"],{code:"import React from 'react';\n\nfunction ExampleApplication() {\n  return (\n    <div>\n      <Header />\n      <React.StrictMode>\n        <div>\n          <ComponentOne />\n          <ComponentTwo />\n        </div>\n      </React.StrictMode>\n      <Footer />\n    </div>\n  );\n}",lang:"javascript"}),c.a.createElement("p",null,"\u66f4\u591a\u6587\u6863\u53c2\u8003\u300a",c.a.createElement(l["Link"],{to:"https://zh-hans.reactjs.org/docs/strict-mode.html"},"\u4e25\u683c\u6a21\u5f0f"),"\u300b"),c.a.createElement("h2",{id:"\u5728-react-hooks-\u4e2d\u9700\u8981\u6ce8\u610f\u7684\u70b9"},c.a.createElement(l["AnchorLink"],{to:"#\u5728-react-hooks-\u4e2d\u9700\u8981\u6ce8\u610f\u7684\u70b9","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u5728 React Hooks \u4e2d\u9700\u8981\u6ce8\u610f\u7684\u70b9"),c.a.createElement("p",null,"\u4e25\u683c\u6a21\u5f0f\u5f88\u91cd\u8981\u7684\u4e00\u4e2a\u80fd\u529b\u662f\u300a",c.a.createElement(l["Link"],{to:"https://zh-hans.reactjs.org/docs/strict-mode.html#detecting-unexpected-side-effects"},"\u68c0\u6d4b\u610f\u5916\u7684\u526f\u4f5c\u7528"),"\u300b\uff0c\u5728\u672a\u6765\u7684 concurrent \u6a21\u5f0f\u4e2d\uff0c\u7ec4\u4ef6\u88ab\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5\uff1a"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("strong",null,"\u6e32\u67d3\uff08render\uff09\u9636\u6bb5"),"\uff1a\u751f\u6210 DOM \u6811\uff0c\u4f1a\u6267\u884c constructor\u3001componentWillMount\u3001componentWillReceiveProps\u3001componentWillUpdate\u3001getDerivedStateFromProps\u3001shouldComponentUpdate\u3001render\u3001",c.a.createElement("strong",null,"useState\u3001useMemo\u3001useCallback")," \u7b49\u751f\u547d\u5468\u671f"),c.a.createElement("li",null,c.a.createElement("strong",null,"\u63d0\u4ea4\uff08commit\uff09\u9636\u6bb5"),"\uff1a\u64cd\u4f5c DOM\uff0c\u89e6\u53d1 componentDidMount\u3001componentDidUpdate\u3001",c.a.createElement("strong",null,"useEffect")," \u7b49\u751f\u547d\u5468\u671f")),c.a.createElement("p",null,"\u4e00\u822c\u6e32\u67d3\u9636\u6bb5\u4f1a\u6bd4\u8f83\u8017\u65f6\uff0c\u63d0\u4ea4\u9636\u6bb5\u6267\u884c\u5f88\u5feb\u3002\u6240\u4ee5\u5728\u672a\u6765\u7684 concurrent \u6a21\u5f0f\u4e2d\uff0c\u6e32\u67d3\u9636\u6bb5\u53ef\u80fd\u4f1a\u88ab\u6682\u505c\u3001\u91cd\u65b0\u6267\u884c\u3002\u4e5f\u5c31\u662f\u6e32\u67d3\u9636\u6bb5\u7684\u751f\u547d\u5468\u671f\uff0c\u53ef\u80fd\u4f1a\u88ab\u591a\u6b21\u6267\u884c\u3002"),c.a.createElement(o["a"],{code:"constructor(){\n  services.getUserInfo().then(() => {\n    .....\n  });\n}",lang:"javascript"}),c.a.createElement("p",null,"\u5982\u4e0a\uff0c\u6211\u4eec\u5728 constructor \u4e2d\u53d1\u8d77\u7f51\u7edc\u8bf7\u6c42\uff0c\u5c31\u53ef\u80fd\u88ab\u6267\u884c\u591a\u6b21\u3002\u6240\u4ee5",c.a.createElement("strong",null,"\u4e0d\u8981\u5728\u6e32\u67d3\u9636\u6bb5\u6267\u884c\u5e26\u6709\u526f\u4f5c\u7528\u7684\u64cd\u4f5c\u3002")),c.a.createElement("p",null,"\u4f46\u5047\u5982\u4f60\u5728\u6e32\u67d3\u9636\u6bb5\u6267\u884c\u4e86\u526f\u4f5c\u7528\u64cd\u4f5c\uff0cReact \u4e5f\u662f\u65e0\u6cd5\u611f\u77e5\u7684\u3002",c.a.createElement("strong",null,"\u4f46\u662f React \u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u4f1a\u6545\u610f\u91cd\u590d\u6267\u884c\u6e32\u67d3\u9636\u6bb5\u7684\u65b9\u6cd5\uff0c\u4f7f\u5f97\u6211\u4eec\u5728\u5f00\u53d1\u9636\u6bb5\u80fd\u66f4\u5bb9\u6613\u53d1\u73b0\u8fd9\u7c7b bug"),"\uff08\u5e76\u4e0d\u662f\u6240\u6709\u6e32\u67d3\u9636\u6bb5\u7684\u751f\u547d\u5468\u671f\u90fd\u4f1a\u88ab\u91cd\u65b0\u6267\u884c\uff0c\u5177\u4f53\u89c1",c.a.createElement(l["Link"],{to:"https://zh-hans.reactjs.org/docs/strict-mode.html#detecting-unexpected-side-effects"},"\u5b98\u65b9\u6587\u6863"),"\uff09\u3002"),c.a.createElement(o["a"],{code:"const useTest = () => {\n  const [state, setState] = useState(() => {\n    console.log('get state');\n    return 'state';\n  });\n\n  const memoState = useMemo(() => {\n    console.log('get memo state');\n    return 'state';\n  }, []);\n\n  console.log('render');\n\n  return state;\n};",lang:"javascript"}),c.a.createElement("p",null,"\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d ",c.a.createElement("code",null,"useState"),"\u3001",c.a.createElement("code",null,"useMemo")," \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u3001Hook \u51fd\u6570\u4f53\u5747\u6267\u884c\u4e86\u4e24\u6b21\u3002"),c.a.createElement("p",null,c.a.createElement(l["Link"],{to:"https://codesandbox.io/s/xvv55893mp?file=/src/index.js"},"\u5728\u7ebf\u4f53\u9a8c")),c.a.createElement("p",null,"\u8bf7\u8bb0\u4f4f\u7ed3\u8bba\uff1a",c.a.createElement("strong",null,"\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c",c.a.createElement("code",null,"useState"),"\u3001",c.a.createElement("code",null,"useMemo"),"\u3001",c.a.createElement("code",null,"useReducer")," \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u3001Hook \u51fd\u6570\u4f53\u90fd\u4f1a\u88ab\u6267\u884c\u4e24\u6b21\uff0c\u4e0d\u8981\u5728\u8fd9\u91cc\u6267\u884c\u5e26\u6709\u526f\u4f5c\u7528\u7684\u64cd\u4f5c\u3002"))))}));t["default"]=e=>{var t=c.a.useContext(l["context"]),n=t.demos;return c.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&l["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),c.a.createElement(r,{demos:n})}}}]);